webpackJsonp([1],{"+6W6":function(e,t){},"+GGk":function(e,t,n){"use strict";var s=n("zIVT");function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){s.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},"/VWB":function(e,t,n){"use strict";var s=n("RlDD");function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new s(e),t(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},"0l+G":function(e,t,n){"use strict";var s=n("obgR");e.exports=function(e,t,n,a,r){var i=new Error(e);return s(i,t,n,a,r)}},"1Cva":function(e,t){},"1DmB":function(e,t,n){"use strict";var s=n("zIVT");e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var s=e;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=s.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"4nb4":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}}},"5W1q":function(e,t){},"5aBc":function(e,t,n){"use strict";var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(){this.message="String contains an invalid character"}a.prototype=new Error,a.prototype.code=5,a.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),i="",o=0,c=s;r.charAt(0|o)||(c="=",o%1);i+=c.charAt(63&t>>8-o%1*8)){if((n=r.charCodeAt(o+=.75))>255)throw new a;t=t<<8|n}return i}},"6ko8":function(e,t){},"6wec":function(e,t){},"7LYE":function(e,t,n){"use strict";var s=n("zIVT"),a=n("wZW9"),r=n("RS1v"),i=n("9T8H"),o=n("1DmB"),c=n("0l+G"),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("5aBc");e.exports=function(e){return new Promise(function(t,l){var d=e.data,f=e.headers;s.isFormData(d)&&delete f["Content-Type"];var m=new XMLHttpRequest,p="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||o(e.url)||(m=new window.XDomainRequest,p="onload",h=!0,m.onprogress=function(){},m.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+u(v+":"+g)}if(m.open(e.method.toUpperCase(),r(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m[p]=function(){if(m&&(4===m.readyState||h)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?i(m.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:n,config:e,request:m};a(t,l,s),m=null}},m.onerror=function(){l(c("Network Error",e,null,m)),m=null},m.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},s.isStandardBrowserEnv()){var k=n("OhlP"),x=(e.withCredentials||o(e.url))&&e.xsrfCookieName?k.read(e.xsrfCookieName):void 0;x&&(f[e.xsrfHeaderName]=x)}if("setRequestHeader"in m&&s.forEach(f,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:m.setRequestHeader(t,e)}),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),l(e),m=null)}),void 0===d&&(d=null),m.send(d)})}},"8WBd":function(e,t){},"93B9":function(e,t){},"9RB6":function(e,t,n){"use strict";var s=n("T2kP"),a=n("zIVT"),r=n("+GGk"),i=n("U2+V");function o(e){this.defaults=e,this.interceptors={request:new r,response:new r}}o.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),(e=a.merge(s,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},a.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,s){return this.request(a.merge(s||{},{method:e,url:t,data:n}))}}),e.exports=o},"9T8H":function(e,t,n){"use strict";var s=n("zIVT"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,i={};return e?(s.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=s.trim(e.substr(0,r)).toLowerCase(),n=s.trim(e.substr(r+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},BTEd:function(e,t){},BTlr:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},C9l1:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"Ex+b":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"H/op":function(e,t){},HXpE:function(e,t,n){"use strict";var s=n("zIVT"),a=n("4nb4"),r=n("9RB6"),i=n("T2kP");function o(e){var t=new r(e),n=a(r.prototype.request,t);return s.extend(n,r.prototype,t),s.extend(n,t),n}var c=o(i);c.Axios=r,c.create=function(e){return o(s.merge(i,e))},c.Cancel=n("RlDD"),c.CancelToken=n("/VWB"),c.isCancel=n("C9l1"),c.all=function(e){return Promise.all(e)},c.spread=n("Kbjq"),e.exports=c,e.exports.default=c},JCHG:function(e,t){},Kbjq:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},MJd7:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),a=n("NYxO"),r=n("424j");s.a.use(a.a);var i=new a.a.Store({strict:!0,state:{tokens:{access:null,refresh:null},user:null},plugins:[Object(r.a)()],getters:{isLogged:function(e){return function(){return Boolean(e.user)}},isNotLogged:function(e){return function(){return!Boolean(e.user)}}},mutations:{setToken_refresh:function(e,t){e.tokens.refresh=t},setToken_access:function(e,t){e.tokens.access=t},setUser:function(e,t){e.user=t}},actions:{setToken_refresh:function(e,t){(0,e.commit)("setToken_refresh",t)},setToken_access:function(e,t){(0,e.commit)("setToken_access",t)},setUser:function(e,t){(0,e.commit)("setUser",t)}}}),o=new s.a,c=[];c.push({title:"Home",class:"is-hidden-desktop",icon:{name:"home",pack:"fa"},to:{name:"MemesView",query:{sort:"title"}},tooltip:"Back to home"}),c.push({title:"Login",class:"is-hidden-desktop",handler:function(){o.$emit("login")},icon:{name:"sign-in",pack:"fa"},tooltip:"Enter to your account",condition:function(){return i.getters.isNotLogged()}}),c.push({title:"Register",class:"is-hidden-desktop",handler:function(){o.$emit("register")},icon:{name:"account",pack:"mdi"},tooltip:"Create new account",condition:function(){return i.getters.isNotLogged()}}),c.push({title:"Logout",class:"is-hidden-desktop",handler:function(){o.$emit("logout")},icon:{name:"sign-out",pack:"fa"},tooltip:"Exit from your account",condition:function(){return i.getters.isLogged()}}),c.push({title:"Discover",tooltip:"All our memes is for you",children:[{to:{name:"MemesView",query:{sort:"rating"}},title:"Top",icon:{name:"fire",pack:"mdi"},tooltip:"Show the best memes"},{title:"New",to:{name:"MemesView",query:{sort:"date"}},icon:{name:"timelapse",pack:"mdi"},tooltip:"Show new memes"}]}),c.push({title:"Work",condition:function(){return i.getters.isLogged()},tooltip:"Work hard",to:{name:"MemePicker"}});var u=c,l={name:"PlainLink",props:{link:{type:Object,required:!0}},methods:{handleClick:function(){this.hasHandler?this.link.handler():this.link.to&&this.$router.push(this.link.to)}},computed:{hasChildren:function(){return this.link.children&&this.link.children.length>0},hasTooltip:function(){return this.link.tooltip&&this.link.tooltip.length>0},hasIcon:function(){return this.link.icon},hasHandler:function(){return this.link.handler}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{ref:"btn",staticClass:"navbar-item",on:{click:function(t){e.handleClick()}}},[e.hasIcon?n("b-icon",{class:e.link.icon.class,attrs:{pack:e.link.icon.pack||"fa",icon:e.link.icon.name,size:e.link.icon.size||"is-small"}}):e._e(),n("span",{class:e.link.class},[e._v(" "+e._s(e.link.title))]),n("ui-ripple-ink",{staticClass:"ripple",attrs:{trigger:"btn"}}),e.hasTooltip?n("ui-tooltip",{attrs:{trigger:"btn",position:"bottom center"}},[e._v(e._s(e.link.tooltip))]):e._e()],1)},staticRenderFns:[]};var f=n("VU/8")(l,d,!1,function(e){n("BTEd")},"data-v-5efc7037",null).exports,m={name:"DropdownLink",components:{PlainLink:f},props:{link:{type:Object,required:!0}},methods:{handleClick:function(){this.hasHandler?this.link.handler():this.link.to&&this.$router.push(this.link.to)}},computed:{hasChildren:function(){return this.link.children&&this.link.children.length>0},hasTooltip:function(){return this.link.tooltip&&this.link.tooltip.length>0},hasIcon:function(){return this.link.icon},hasHandler:function(){return this.link.handler}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("a",{ref:"btn",staticClass:"navbar-link",on:{click:function(t){e.hasHandler&&e.link.handler}}},[e.hasIcon?n("b-icon",{class:e.link.icon.class,attrs:{pack:e.link.icon.pack||"fa",icon:e.link.icon.name,size:e.link.icon.size||"is-small"}}):e._e(),n("span",{class:e.link.class},[e._v(" "+e._s(e.link.title))]),n("ui-ripple-ink",{staticClass:"ripple",attrs:{trigger:"btn"}}),e.hasTooltip?n("ui-tooltip",{attrs:{trigger:"btn",position:"right middle"}},[e._v(e._s(e.link.tooltip))]):e._e()],1),n("div",{staticClass:"navbar-dropdown"},e._l(e.link.children,function(e,t){return n("plain-link",{key:t,attrs:{link:e}})}))])},staticRenderFns:[]};var h={name:"HeaderLink",components:{PlainLink:f,DropdownLink:n("VU/8")(m,p,!1,function(e){n("QNNa")},"data-v-38bdbf7a",null).exports},props:{link:{type:Object,required:!0}},computed:{hasChildren:function(){return this.link.children&&this.link.children.length>0},hasTooltip:function(){return this.link.tooltip&&this.link.tooltip.length>0},hasIcon:function(){return this.link.icon}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return this.hasChildren?t("dropdown-link",{attrs:{link:this.link}}):t("plain-link",{attrs:{link:this.link}})},staticRenderFns:[]};var g={components:{HeaderLink:n("VU/8")(h,v,!1,function(e){n("o4YP")},"data-v-7a8165ff",null).exports},name:"app-header",data:function(){return{UI:{isShown:!0},links:u}},methods:{showAllMenu:function(){var e=this.$refs.burger,t=this.$refs.menu;e.classList.toggle("is-active"),t.classList.toggle("is-active")}}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("nav",{staticClass:"navbar is-white",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[n("p",{staticClass:"navbar-item brand-text"},[e._v("Int20Test")]),n("a",{ref:"burger",staticClass:"navbar-burger burger round-percent-50",attrs:{"data-target":"menu"},on:{click:function(t){e.showAllMenu()}}},[n("span"),n("span"),n("span")])]),n("div",{ref:"menu",staticClass:"navbar-menu",attrs:{id:"menu"}},[n("div",{staticClass:"navbar-start"},e._l(e.links,function(t,s){return"condition"in t&&!t.condition()?e._e():n("header-link",{key:s,attrs:{link:t}})}))])])])])},staticRenderFns:[]};var x=n("VU/8")(g,k,!1,function(e){n("6wec")},"data-v-7a0f38e0",null).exports,w=n("Xxa5"),b=n.n(w),C=n("exGp"),y=n.n(C),E={name:"InputText",data:function(){return{data:""}},methods:{},computed:{errorMessage:function(){return this.isValid?"":this.errors.first(this.label)},isValid:function(){return!this.errors.has(this.label)}},watch:{value:function(){this.data=this.value}},props:{rules:{type:Object},icon:{type:String},label:{type:String,required:!0},placeholder:{type:String},type:{type:String,default:"text"},reveal:{type:Boolean,default:!1},value:{type:String,default:""}}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-field",{attrs:{type:e.isValid?e.data?"is-success":"":"is-danger",message:e.errorMessage}},[n("b-input",{directives:[{name:"validate",rawName:"v-validate.initial",value:e.rules,expression:"rules",modifiers:{initial:!0}}],attrs:{type:e.type,icon:e.icon,value:e.value,name:e.label,placeholder:e.placeholder,"password-reveal":e.reveal},on:{input:function(t){e.$emit("action")}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1)},staticRenderFns:[]};var _=n("VU/8")(E,$,!1,function(e){n("dHmm")},"data-v-7abb1e62",null).exports,L=n("VU/8")({methods:{showErrorBox:function(e){this.$toast.open({duration:5e3,message:e||"Something is going wrong",position:"is-top",queue:!1,type:"is-danger"})},showSuccessBox:function(e){this.$toast.open({duration:5e3,message:e||"All is ok",position:"is-top",queue:!1,type:"is-success"})}}},null,!1,null,null,null).exports,U=n("uj17"),I=n.n(U),S={ROOT_URL:"production".startsWith("dev")?"http://localhost:"+(Object({NODE_ENV:"production"}).PORT||3e3):"https://meme-picker.herokuapp.com",PLACEHOLDER:"/static/img/placeholder.png",PAGINATION_LIMIT:20},T=function(e,t){var n={};return n.baseURL=S.ROOT_URL,n.auth={username:e,password:t},I.a.create(n)},H=function(){var e={};return e.baseURL=S.ROOT_URL,i.getters.isLogged()&&(e.headers={Authorization:"Bearer "+i.state.tokens.access}),I.a.create(e)},R=function(){var e={};return e.baseURL=S.ROOT_URL,i.getters.isLogged()&&(e.headers={Authorization:"Bearer "+i.state.tokens.refresh}),I.a.create(e)},B=function(){var e={};return e.baseURL=S.ROOT_URL,e.headers={"Access-Control-Allow-Origin":"*"},I.a.create(e)},A=function(e){return B().post("/api/v1/auth/activate/send-again",e)},M=function(e){return console.log(e),B().post("/api/v1/auth/activate/"+e.token)},V=function(){return H().post("/api/v1/auth/logout")},P=function(e){return T(e.email,e.password).post("/api/v1/auth/login")},N=function(e){return B().post("/api/v1/auth/register/",e)},O=function(){return H().get("/api/v1/auth/check/access")},q=function(){return R().get("/api/v1/auth/check/refresh")},j=function(){return R().get("/api/v1/auth/token")},z={mixins:{MessageMixin:L},methods:{checkTimeOfTokens:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isNotLogged()){t.next=2;break}return t.abrupt("return");case 2:return console.log(0),t.next=5,e.isValidAccessToken();case 5:if(!t.sent){t.next=7;break}return t.abrupt("return");case 7:return console.log(1),t.next=10,e.isValidRefreshToken();case 10:if(t.sent){t.next=14;break}return console.log("refresh token expired"),e.logout(),t.abrupt("return");case 14:return console.log(2),t.next=17,e.updateAccessToken();case 17:case"end":return t.stop()}},t,e)}))()},updateAccessToken:function(){var e=this;return y()(b.a.mark(function t(){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j();case 3:(n=t.sent).data.success?e.$store.dispatch("setToken_access",n.data.tokens.access):e.logout(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.logout();case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},isValidRefreshToken:function(){var e=this;return y()(b.a.mark(function t(){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data.success);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},t,e,[[0,8]])}))()},isValidAccessToken:function(){var e=this;return y()(b.a.mark(function t(){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return n=e.sent,e.abrupt("return",n.data.success);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},t,e,[[0,7]])}))()},logout:function(){this.$store.dispatch("setToken_access",null),this.$store.dispatch("setToken_refresh",null),this.$store.dispatch("setUser",null)},fullLogout:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("setToken_access",null),e.$store.dispatch("setToken_refresh",null),e.$store.dispatch("setUser",null),t.prev=3,t.next=6,V();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:case"end":return t.stop()}},t,e,[[3,8]])}))()},isLogged:function(){return this.$store.getters.isLogged()},isAdmin:function(){return this.isLogged()&&"admin"==this.$store.state.user.role},isNotLogged:function(){return!this.isLogged()},login:function(e){var t=this;return y()(b.a.mark(function e(){var n,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.$emit("load-login-start"),n=!1,e.prev=2,e.next=5,P(t.credentials);case 5:(s=e.sent).data.success?(t.$store.dispatch("setToken_access",s.data.tokens.access),t.$store.dispatch("setToken_refresh",s.data.tokens.refresh),t.$store.dispatch("setUser",s.data.user),t.showSuccessBox("Hello, "+s.data.user.email),n=!0):t.showErrorBox(s.data.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.showErrorBox(401==e.t0.response.status?"Invalid credentials":e.t0.response.data.message||e.t0.message);case 12:return o.$emit("load-login-end"),e.abrupt("return",n);case 14:case"end":return e.stop()}},e,t,[[2,9]])}))()},register:function(e){var t=this;return y()(b.a.mark(function e(){var n,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.$emit("load-register-start"),n=!1,e.prev=2,e.next=5,N(t.credentials);case 5:(s=e.sent).data.success?n=!0:t.showErrorBox(s.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.showErrorBox(401==e.t0.response.status?"Invalid credentials":e.t0.response.data.message||e.t0.message);case 12:return o.$emit("load-register-end"),e.abrupt("return",n);case 14:case"end":return e.stop()}},e,t,[[2,9]])}))()},sendActivationCode:function(e){var t=this;return y()(b.a.mark(function n(){var s,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.$emit("load-activate-start"),s=!1,n.prev=2,n.next=5,M(e);case 5:(a=n.sent).data.success?(t.UI.isShown=!1,t.showSuccessBox("Your account was successful activated. You can login now"),s=!0):t.showErrorBox(a.message),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),t.showErrorBox(n.t0.response.data.message||n.t0.message);case 12:return o.$emit("load-activate-end"),n.abrupt("return",s);case 14:case"end":return n.stop()}},n,t,[[2,9]])}))()},sendActivationCodeAgain:function(e){var t=this;return y()(b.a.mark(function n(){var s,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.$emit("load-confirm-start"),s=!1,n.prev=2,n.next=5,A(t.credentials);case 5:(a=n.sent).data.success?(t.UI.isShown=!1,t.showSuccessBox("Mail was send again to '"+e.email+"'"),s=!0):t.showErrorBox(a.message),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),t.showErrorBox(401==n.t0.response.status?"Invalid credentials":n.t0.response.data.message||n.t0.message);case 12:return o.$emit("load-confirm-end"),n.abrupt("return",s);case 14:case"end":return n.stop()}},n,t,[[2,9]])}))()}}},D=n("VU/8")(z,null,!1,null,null,null).exports,F={mixins:[D,L],name:"login",components:{InputText:_},data:function(){return{UI:{isShown:!1,isLoading:!1}}},methods:{register:function(){o.$emit("register"),this.toggle()},loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},isValidCredentials:function(){return(!this.$refs.email||this.$refs.email.isValid)&&(!this.$refs.password||this.$refs.password.isValid)},toggle:function(){this.UI.isShown=!this.UI.isShown},loginHandler:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isValidCredentials()){t.next=7;break}return t.next=3,e.login(e.credentials);case 3:if(!t.sent){t.next=5;break}e.UI.isShown=!1;case 5:t.next=8;break;case 7:e.showErrorBox("Looks like, there are some problems with your input");case 8:case"end":return t.stop()}},t,e)}))()},addEventHandlers:function(){o.$on("load-login-start",this.loadStart),o.$on("load-login-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-login-start",this.loadStart),o.$off("load-login-end",this.loadEnd)}},mounted:function(){this.addEventHandlers()},beforeDestroy:function(){this.removeEventHandlers()},computed:{isInvalidEmail:function(){return!(this.$refs.email&&this.$refs.email.data)},credentials:function(){return{email:this.$refs.email.data,password:this.$refs.password.data}}}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isNotLogged?n("b-modal",{staticClass:"modal",attrs:{active:e.UI.isShown,scroll:"keep",animation:"zoom-out",width:"400px"},on:{"update:active":function(t){e.$set(e.UI,"isShown",t)}}},[n("b-loading",{attrs:{active:e.UI.isLoading}}),n("div",{staticClass:"box has-text-centered"},[n("figure",{staticClass:"avatar"},[e.isInvalidEmail?n("img",{staticClass:"avatar-image",attrs:{src:"/static/img/user.png",width:"140px",alt:""}}):e._e()]),n("h3",{staticClass:"title has-text-grey"},[e._v("Login")]),n("p",{staticClass:"subtitle has-text-grey"},[e._v("Please login to proceed.")]),n("form",{staticClass:"has-text-left"},[n("input-text",{ref:"email",attrs:{label:"email",placeholder:"Your email",rules:{required:!0,email:!0},icon:"email",type:"email"}}),n("input-text",{ref:"password",attrs:{label:"password",placeholder:"Your password",rules:{required:!0},icon:"lock",reveal:!0,type:"password"}})],1),n("br"),n("a",{staticClass:"button is-block is-info is-medium",on:{click:function(t){e.loginHandler()}}},[e._v("Login")]),n("hr"),n("p",{staticClass:"has-text-grey is-size-6"}),n("a",{on:{click:function(t){if(!("button"in t)&&e._k(t.keyCode,"register",void 0,t.key))return null;e.register(t)}}},[e._v("Sign Up")]),n("span",[e._v(" · ")]),n("router-link",{attrs:{to:{name:"ConfirmMail"}}},[n("a",{on:{click:function(t){t.stopPropagation(),e.toggle(t)}}},[e._v("Confirm email")])])],1)],1):e._e()},staticRenderFns:[]};var W=n("VU/8")(F,Y,!1,function(e){n("Sw8Y")},"data-v-f51377a2",null).exports,X={mixins:[D,L],name:"register",components:{InputText:_},data:function(){return{UI:{isShown:!1,isLoading:!1}}},methods:{loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-register-start",this.loadStart),o.$on("load-register-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-register-start",this.loadStart),o.$off("load-register-end",this.loadEnd)},isValidCredentials:function(){return(!this.$refs.email||this.$refs.email.isValid)&&(!this.$refs.password||this.$refs.password.isValid)},toggle:function(){this.UI.isShown=!this.UI.isShown},registerHandler:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isValidCredentials()){t.next=8;break}return t.next=3,e.register(e.credentials);case 3:if(!t.sent){t.next=6;break}e.UI.isShown=!1,e.$router.push({name:"ConfirmMail",query:{email:e.credentials.email}});case 6:t.next=9;break;case 8:e.showErrorBox("Looks like, there are some problems with your input");case 9:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.addEventHandlers()},beforeDestroy:function(){this.removeEventHandlers()},computed:{isInvalidEmail:function(){return!(this.$refs.email&&this.$refs.email.data)},credentials:function(){return{email:this.$refs.email.data,password:this.$refs.password.data}}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isNotLogged?n("b-modal",{staticClass:"modal",attrs:{active:e.UI.isShown,scroll:"keep",animation:"zoom-out",width:"400px"},on:{"update:active":function(t){e.$set(e.UI,"isShown",t)}}},[n("b-loading",{attrs:{active:e.UI.isLoading}}),n("div",{staticClass:"box has-text-centered"},[n("figure",{staticClass:"avatar"},[e.isInvalidEmail?n("img",{staticClass:"avatar-image",attrs:{src:"/static/img/user.png",width:"140px",alt:""}}):e._e()]),n("h3",{staticClass:"title has-text-grey"},[e._v("Sign up")]),n("p",{staticClass:"subtitle has-text-grey"},[e._v("Join us now")]),n("form",{staticClass:"has-text-left"},[n("input-text",{ref:"email",attrs:{label:"email",placeholder:"Your email",rules:{required:!0,email:!0},icon:"email",type:"email"}}),n("input-text",{ref:"password",attrs:{label:"password",placeholder:"Your password",rules:{required:!0},icon:"lock",reveal:!0,type:"password"}})],1),n("br"),n("a",{staticClass:"button is-block is-info is-medium",on:{click:function(t){e.registerHandler()}}},[e._v("Send")]),n("hr"),n("p",{staticClass:"has-text-grey is-size-6"},[e._v("Are you already registered?"),n("a",{on:{click:function(t){e.$emit("register"),e.UI.isShown=!1}}},[e._v("Login")])])])],1):e._e()},staticRenderFns:[]};var Q=n("VU/8")(X,G,!1,function(e){n("+6W6")},"data-v-722c9276",null).exports,J=n("mvHQ"),K=n.n(J),Z=n("pFYg"),ee=n.n(Z);function te(e){return"object"==(void 0===e?"undefined":ee()(e))||Array.isArray(e)?K()(e):e}var ne=function(e){var t,n="?";for(var s in e)e[s]&&(t=e[s],!Array.isArray(t)||t.length>0)&&(n+=s+"="+te(e[s])+"&");return n},se={mixins:[D,L],name:"App",data:function(){return{UI:{isLoading:!1}}},components:{AppHeader:x,AppLogin:W,AppRegister:Q},methods:{loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("login",this.$refs.login.toggle),o.$on("register",this.$refs.register.toggle),o.$on("logout",this.logout),o.$on("load-start",this.loadStart),o.$on("load-end",this.loadEnd)},removeEventHandlers:function(){o.$off("login",this.$refs.login.toggle),o.$off("register",this.$refs.register.toggle),o.$off("logout",this.logout),o.$off("load-start",this.loadStart),o.$off("load-end",this.loadEnd)}},mounted:function(){this.addEventHandlers()},beforeDestroy:function(){this.removeEventHandlers()}},ae={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("b-loading",{attrs:{active:this.UI.isLoading}}),t("app-login",{ref:"login"}),t("app-register",{ref:"register"}),t("app-header"),t("router-view")],1)},staticRenderFns:[]};var re=n("VU/8")(se,ae,!1,function(e){n("6ko8")},null,null).exports,ie=n("/ocq"),oe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ce=n("VU/8")({name:"Index"},oe,!1,function(e){n("1Cva")},"data-v-2c4ecdd7",null).exports,ue={mixins:[D,L],name:"ConfirmMail",components:{InputText:_},data:function(){return{email:null,UI:{isShown:!0,isLoading:!1}}},methods:{loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-confirm-start",this.loadStart),o.$on("load-confirm-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-confirm-start",this.loadStart),o.$off("load-confirm-end",this.loadEnd)},isValidCredentials:function(){return!this.$refs.email||this.$refs.email.isValid},handleSend:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isValidCredentials()){t.next=6;break}return t.next=3,e.sendActivationCodeAgain(e.credentials);case 3:if(!t.sent){t.next=4;break}case 4:t.next=7;break;case 6:e.showErrorBox("Looks like, there are some problems with your input");case 7:case"end":return t.stop()}},t,e)}))()}},computed:{credentials:function(){return{email:this.$refs.email.data}}},props:[],beforeRouteUpdate:function(e,t){this.email=e.query.email||"",console.log(this.email)},mounted:function(){this.email=this.$route.query.email||"",console.log(this.email)}},le={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isNotLogged?n("section",{staticClass:"hero is-info is-fullheight"},[n("b-loading",{attrs:{active:e.UI.isLoading}}),n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("div",{staticClass:"column is-6 is-offset-3 content"},[n("h1",{staticClass:"title"},[e._v("Attention!")]),e._m(0),n("div",{staticClass:"box"},[n("input-text",{ref:"email",attrs:{label:"email",placeholder:"Your email",rules:{required:!0,email:!0},icon:"email",type:"email",button:!0,value:e.email}}),n("div",{staticClass:"field is-grouped is-grouped-centered"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link",on:{click:function(t){t.stopPropagation(),e.handleSend(t)}}},[e._v("Send again")])])])],1)])])])],1):e._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("We send mail with activation code to your email."),t("br"),this._v("If you don't receive it, you can send code again"),t("br"),this._v("Just enter your email in form below")])}]};var de=n("VU/8")(ue,le,!1,function(e){n("hpXs")},"data-v-5b5bc762",null).exports,fe={mixins:[D,L],name:"activate-account",data:function(){return{UI:{isShown:!0,isLoading:!1}}},methods:{loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-activate-start",this.loadStart),o.$on("load-activate-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-activate-start",this.loadStart),o.$off("load-activate-end",this.loadEnd)},handleActivate:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendActivationCode({token:e.token});case 2:if(!t.sent){t.next=5;break}e.$router.push({name:"Index"}),o.$emit(login);case 5:case"end":return t.stop()}},t,e)}))()}},computed:{credentials:function(){return{email:this.$refs.email.data}}},props:[],beforeRouteUpdate:function(e,t){var n=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.token=e.params.token||"",t.next=3,n.handleActivate();case 3:console.log(n.token);case 4:case"end":return t.stop()}},t,n)}))()},mounted:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.token=e.$route.params.token||"",t.next=3,e.handleActivate();case 3:console.log(e.token);case 4:case"end":return t.stop()}},t,e)}))()}},me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"hero is-info is-fullheight"},[t("b-loading",{attrs:{active:this.UI.isLoading}}),this._m(0)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container has-text-centered"},[t("div",{staticClass:"column is-6 is-offset-3 content"},[t("p",{staticClass:"title"},[this._v("Your account now is activating")])])])])}]};var pe=n("VU/8")(fe,me,!1,function(e){n("e4qn")},"data-v-6cac85ec",null).exports,he={name:"MemeCard",data:function(){return{}},props:{meme:{type:Object,required:!0}},computed:{isImage:function(){return this.meme&&this.meme.content.match(/.+(gif|jpg|jpeg|raw|png)/)}}},ve={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("div",{staticClass:"card-header-title",domProps:{innerHTML:this._s(this.meme.title)}})]),t("div",{staticClass:"card-image"},[t("figure",{staticClass:"image"},[this.isImage?t("img",{attrs:{src:this.meme.content,alt:"Meme's image"}}):t("video",{attrs:{controls:"controls"}},[t("source",{attrs:{src:this.meme.content}}),this._v("Your browser does not support HTML5 video.")])])])])},staticRenderFns:[]};var ge=n("VU/8")(he,ve,!1,function(e){n("SivM")},"data-v-eca3d01e",null).exports,ke=function(){return H().get("/api/v1/meme/random2")},xe=function(e){return H().post("/api/v1/meme/vote",e)},we=function(e){return B().get("/api/v1/meme"+ne(e))},be=function(e){return B().get("/api/v1/meme/"+e)},Ce=function(e){return H().delete("/api/v1/meme/"+e)},ye={mixins:{MessageMixin:L,AuthMixin:D},name:"MemeMixin",data:function(){return{}},methods:{addEventHandlers:function(){o.$on("load-meme-start",this.loadStart),o.$on("load-meme-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-meme-start",this.loadStart),o.$off("load-meme-end",this.loadEnd)},deleteMeme:function(e){var t=this;return y()(b.a.mark(function n(){var s,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.checkTimeOfTokens();case 2:if(!t.isNotLogged()){n.next=4;break}return n.abrupt("return");case 4:return o.$emit("load-meme-start"),s=!1,n.prev=6,n.next=9,Ce(e);case 9:a=n.sent,console.log(a.data),a.data.success?(s=!0,t.showSuccessBox("Mem has been deleted")):t.showErrorBox(a.message),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(6),t.showErrorBox(n.t0.response.data.message||n.t0.message);case 17:return o.$emit("load-meme-end"),n.abrupt("return",s);case 19:case"end":return n.stop()}},n,t,[[6,14]])}))()},loadMemes:function(e){var t=this;return y()(b.a.mark(function n(){var s,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.$emit("load-memes-start"),s=!1,n.prev=2,n.next=5,we(e);case 5:a=n.sent,console.log(a.data),a.data.success?s=a.data:t.showErrorBox(a.message),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),t.showErrorBox(n.t0.response.data.message||n.t0.message);case 13:return o.$emit("load-memes-end"),n.abrupt("return",s);case 15:case"end":return n.stop()}},n,t,[[2,10]])}))()},loadMeme:function(e){var t=this;return y()(b.a.mark(function n(){var s,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.$emit("load-meme-start"),s=!1,n.prev=2,n.next=5,be(e);case 5:a=n.sent,console.log(a.data),a.data.success?s=a.data.item:t.showErrorBox(a.message),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),t.showErrorBox(n.t0.response.data.message||n.t0.message);case 13:return o.$emit("load-meme-end"),n.abrupt("return",s);case 15:case"end":return n.stop()}},n,t,[[2,10]])}))()},voteForBestMeme:function(e,t){var n=this;return y()(b.a.mark(function s(){var a,r;return b.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.checkTimeOfTokens();case 2:if(!n.isNotLogged()){s.next=4;break}return s.abrupt("return");case 4:return a=!1,s.prev=5,s.next=8,xe({winnerId:e._id,loserId:t._id});case 8:r=s.sent,console.log(r.data),r.data.success?(a=r.data.items,n.showSuccessBox("Voted")):n.showErrorBox(r.message),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(5),n.showErrorBox(s.t0.response.data.message||s.t0.message);case 16:return s.abrupt("return",a);case 17:case"end":return s.stop()}},s,n,[[5,13]])}))()},load2RandomMeme:function(){var e=this;return y()(b.a.mark(function t(){var n,s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkTimeOfTokens();case 2:if(!e.isNotLogged()){t.next=4;break}return t.abrupt("return");case 4:return o.$emit("load-meme-random-start"),n=!1,t.prev=6,t.next=9,ke();case 9:s=t.sent,console.log(s.data),s.data.success?n=s.data.items:e.showErrorBox(s.message),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),e.showErrorBox(t.t0.response.data.message||t.t0.message);case 17:return o.$emit("load-meme-random-end"),t.abrupt("return",n);case 19:case"end":return t.stop()}},t,e,[[6,14]])}))()}},computed:{}},Ee=n("VU/8")(ye,null,!1,null,null,null).exports,$e={mixins:[D,L,Ee],name:"MemePicker",data:function(){return{memeLeft:null,memeRight:null,UI:{isLoading:!1}}},components:{MemeCard:ge},methods:{vote:function(e){var t=this;return y()(b.a.mark(function n(){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.voteForBestMeme(e,e==t.memeLeft?t.memeRight:t.memeLeft),n.next=3,t.loadMemeHandle();case 3:case"end":return n.stop()}},n,t)}))()},loadMemeHandle:function(){var e=this;return y()(b.a.mark(function t(){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load2RandomMeme();case 2:(n=t.sent)&&(console.log(n),e.memeLeft=n[0],e.memeRight=n[1]);case 4:case"end":return t.stop()}},t,e)}))()},loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-meme-random-start",this.loadStart),o.$on("load-meme-random-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-meme-random-start",this.loadStart),o.$off("load-meme-random-end",this.loadEnd)}},mounted:function(){this.addEventHandlers(),this.loadMemeHandle()},beforeDestroy:function(){this.removeEventHandlers()}},_e={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLogged()?n("div",{staticClass:"container"},[n("b-loading",{attrs:{active:e.UI.isLoading}}),n("div",{staticClass:"columns is-tablet"},[n("div",{staticClass:"column is-10-desktop is-offset-1-desktop"},[n("section",{staticClass:"hero is-info welcome is-small"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"is-size-5"},[e._v("Hello, "+e._s(e.$store.state.user.email)+".")]),n("h2",{staticClass:"is-size-6"},[e._v("I hope you are having a great day!")]),n("h2",{staticClass:"is-size-4"},[e._v("Pick up the best meme")])])])]),n("hr"),n("div",{staticClass:"columns is-touch is-multiline"},[n("div",{staticClass:"column is-12"},[n("a",{staticClass:"button is-info extended is-outlined",class:{"is-loading":e.UI.isLoading},attrs:{disabled:e.UI.isLoading},on:{click:e.loadMemeHandle}},[e._v("Skip")])]),e.memeLeft&&e.memeRight?[n("div",{staticClass:"column is-6"},[n("a",{staticClass:"hoverable-card",attrs:{disable:e.UI.isLoading},on:{click:function(t){t.stopPropagation(),e.vote(e.memeLeft)}}},[n("meme-card",{ref:"meme-left",attrs:{meme:e.memeLeft}})],1)]),n("div",{staticClass:"column is-6"},[n("a",{staticClass:"hoverable-card",attrs:{disable:e.UI.isLoading},on:{click:function(t){t.stopPropagation(),e.vote(e.memeRight)}}},[n("meme-card",{ref:"meme-right",attrs:{meme:e.memeRight}})],1)])]:e._e()],2)])])],1):n("div",{staticClass:"hero"},[n("div",{staticClass:"hero-body container"},[n("div",{staticClass:"notification is-danger"},[n("h1",{staticClass:"is-size-1"},[n("b-icon",{attrs:{size:"is-large",icon:"alert-decagram"}}),n("span",[e._v("Attention")])],1),n("p",{staticClass:"is-size-4"},[e._v("You need to log in, if you wish to continue")])])])])},staticRenderFns:[]};var Le=n("VU/8")($e,_e,!1,function(e){n("qV3Q")},"data-v-606517e4",null).exports,Ue={mixins:[D,L,Ee],name:"UsersView",data:function(){return{}},methods:{loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){},removeEventHandlers:function(){},loadUsersHandle:function(){}},mounted:function(){this.addEventHandlers(),this.loadUsersHandle()},beforeDestroy:function(){this.removeEventHandlers()},computed:{},props:[],created:function(){}},Ie={render:function(){var e=this.$createElement,t=this._self._c||e;return this.isAdmin()?t("div"):this._e()},staticRenderFns:[]};var Se=n("VU/8")(Ue,Ie,!1,function(e){n("93B9")},"data-v-bc302340",null).exports,Te=n("ahzj"),He={name:"bLoading",props:{active:Boolean,programmatic:Boolean,animation:{type:String,default:"fade"},canCancel:{type:Boolean,default:!1},onCancel:{type:Function,default:function(){}}},data:function(){return{isActive:this.active||!1}},watch:{active:function(e){this.isActive=e}},methods:{cancel:function(){this.canCancel&&this.close()},close:function(){var e=this;this.onCancel.apply(null,arguments),this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(function(){e.$destroy(),Object(Te.a)(e.$el)},150))},keyPress:function(e){27===e.keyCode&&this.cancel()}},created:function(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount:function(){this.programmatic&&document.body.appendChild(this.$el)},mounted:function(){this.programmatic&&(this.isActive=!0)},beforeDestroy:function(){"undefined"!=typeof window&&document.removeEventListener("keyup",this.keyPress)}},Re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:this.animation}},[this.isActive?t("div",{staticClass:"loading-overlay is-active"},[t("div",{staticClass:"loading-background",on:{click:this.cancel}}),this._v(" "),t("div",{staticClass:"loading-icon"})]):this._e()])},staticRenderFns:[]},Be={components:{BLoading:n("VU/8")(He,Re,!1,null,null,null).exports},mixins:[D,L,Ee],name:"MemePrev",data:function(){return{UI:{isLoading:!1}}},props:{meme:{type:Object,required:!0}},methods:{remove:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.meme._id){t.next=4;break}e.showErrorBox("No id of meme found"),t.next=8;break;case 4:return t.next=6,e.deleteMeme(e.meme._id);case 6:if(!t.sent){t.next=8;break}e.$emit("removed",e.meme._id);case 8:case"end":return t.stop()}},t,e)}))()},loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-meme-start",this.loadStart),o.$on("load-meme-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-meme-start",this.loadStart),o.$off("load-meme-end",this.loadEnd)}},computed:{isImage:function(){return this.meme&&this.meme.content.match(/.+(gif|jpg|jpeg|raw|png)/)},rating:function(){return Number(this.meme.rating).toFixed(2)}},beforeDestroy:function(){this.removeEventHandlers()},mounted:function(){this.addEventHandlers()}},Ae={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-loading",{attrs:{active:e.UI.isLoading},on:{"update:active":function(t){e.$set(e.UI,"isLoading",t)}}}),n("div",{staticClass:"card"},[n("div",{staticClass:"card-image"},[n("router-link",{attrs:{to:{name:"MemeInfo",params:{id:e.meme._id}}}},[n("figure",{staticClass:"logo-image-container"},[e.isImage?n("img",{staticClass:"logo-image",attrs:{src:e.meme.content,alt:"Meme's image"}}):n("video",{attrs:{controls:"controls",width:"320",height:"240"}},[n("source",{attrs:{src:e.meme.content}}),e._v("Your browser does not support HTML5 video.")])])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[n("p",{staticClass:"subtitle is-6",domProps:{innerHTML:e._s(e.meme.title)}}),n("b-field",{attrs:{grouped:"grouped"}},[e.isAdmin()?n("p",{staticClass:"control"},[n("button",{staticClass:"button is-danger",on:{click:function(t){t.stopPropagation(),e.remove(t)}}},[n("b-icon",{attrs:{icon:"delete"}}),n("span",[e._v("Delete")])],1)]):e._e(),n("b-taglist",{attrs:{attached:"attached"}},[n("b-tag",{attrs:{type:"is-black"}},[e._v("Rating")]),n("b-tag",{attrs:{type:"is-info"}},[e._v(e._s(e.rating))])],1)],1)],1)])],1)])],1)},staticRenderFns:[]};var Me={components:{MemeCard:n("VU/8")(Be,Ae,!1,function(e){n("MJd7")},"data-v-742736bd",null).exports},mixins:[D,L,Ee],name:"MemesView",data:function(){return{page:1,perPage:20,total:1,memes:[],UI:{isLoading:!1}}},methods:{remove:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.params.id){t.next=4;break}e.showErrorBox("No id of meme found"),t.next=8;break;case 4:return t.next=6,e.deleteMeme(e.$route.params.id);case 6:if(!t.sent){t.next=8;break}e.$router.push({name:"MemesView"});case 8:case"end":return t.stop()}},t,e)}))()},loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-memes-start",this.loadStart),o.$on("load-memes-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-memes-start",this.loadStart),o.$off("load-memes-end",this.loadEnd)},loadMemesHandle:function(){var e=this;return y()(b.a.mark(function t(){var n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadMemes({page:e.page,sort:e.sort,limit:e.limit});case 2:n=t.sent,e.memes=n.items,e.page=n.page,e.total=n.total;case 6:case"end":return t.stop()}},t,e)}))()},handleURLQuery:function(e){this.sort=e.sort||"title",this.page=Math.max(Number(e.page)||1),this.loadMemesHandle()}},watch:{page:function(){var e={page:this.page,sort:this.sort};this.$router.push({name:"MemesView",query:e})}},beforeDestroy:function(){this.removeEventHandlers()},beforeRouteUpdate:function(e,t,n){console.log("update"),this.handleURLQuery(e.query)},computed:{},props:[],mounted:function(){this.addEventHandlers(),this.handleURLQuery(this.$route.query)}},Ve={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("b-loading",{attrs:{active:e.UI.isLoading}}),e.isLogged()?n("section",{staticClass:"hero is-info welcome is-small"},[n("div",{staticClass:"hero-body"},[n("h1",{staticClass:"is-size-5"},[e._v("Hello, "+e._s(e.$store.state.user.email)+".")]),n("h2",{staticClass:"is-size-6"},[e._v("Here you can view all memes")])])]):e._e(),n("hr"),n("b-pagination",{attrs:{total:e.total,current:e.page,order:"is-centered","per-page":e.perPage},on:{"update:current":function(t){e.page=t}}}),n("br"),n("div",{staticClass:"columns is-multiline"},e._l(e.memes,function(t){return n("div",{key:t._id,staticClass:"column is-6-tablet is-4-desktop is-3-fullhd"},[n("meme-card",{attrs:{meme:t},on:{removed:e.loadMemesHandle}})],1)})),n("b-pagination",{attrs:{total:e.total,current:e.page,order:"is-centered","per-page":e.perPage},on:{"update:current":function(t){e.page=t}}}),n("br")],1)},staticRenderFns:[]};var Pe=n("VU/8")(Me,Ve,!1,function(e){n("QSoN")},"data-v-06c36045",null).exports,Ne={mixins:[D,L,Ee],name:"MemeInfo",data:function(){return{meme:null,UI:{isLoading:!0}}},computed:{isImage:function(){return this.meme&&this.meme.content.match(/.+(gif|jpg|jpeg|raw|png)/)},rating:function(){return Number(this.meme.rating).toFixed(2)},added:function(){return new Date(this.meme.added).toLocaleString()}},methods:{remove:function(){var e=this;return y()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.params.id){t.next=4;break}e.showErrorBox("No id of meme found"),t.next=8;break;case 4:return t.next=6,e.deleteMeme(e.$route.params.id);case 6:if(!t.sent){t.next=8;break}e.$router.push({name:"MemesView"});case 8:case"end":return t.stop()}},t,e)}))()},loadStart:function(){this.UI.isLoading=!0},loadEnd:function(){this.UI.isLoading=!1},addEventHandlers:function(){o.$on("load-meme-start",this.loadStart),o.$on("load-meme-end",this.loadEnd)},removeEventHandlers:function(){o.$off("load-meme-start",this.loadStart),o.$off("load-meme-end",this.loadEnd)},loadMemeHandle:function(e){var t=this;return y()(b.a.mark(function n(){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.$route.params.id){n.next=4;break}t.showErrorBox("No id of meme found"),n.next=7;break;case 4:return n.next=6,t.loadMeme(e.params.id);case 6:t.meme=n.sent;case 7:case"end":return n.stop()}},n,t)}))()}},beforeDestroy:function(){this.removeEventHandlers()},beforeRouteUpdate:function(e,t,n){this.loadMemeHandle(e)},mounted:function(){this.addEventHandlers(),this.loadMemeHandle(this.$route)}},Oe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("b-loading",{attrs:{active:e.UI.isLoading}}),e.$route.params.id?n("div",{staticClass:"container"},[e.meme?n("section",{staticClass:"hero is-success is-small"},[n("div",{staticClass:"hero-body"},[n("h2",{staticClass:"title is-size-3",domProps:{innerHTML:e._s(e.meme.title)}})])]):e._e(),n("hr"),e.meme?n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-6"},[n("figure",{staticClass:"image meme-image-container"},[e.isImage?n("img",{staticClass:"meme-image",attrs:{src:e.meme.content,alt:"Meme's image"}}):n("video",{attrs:{controls:"controls"}},[n("source",{attrs:{src:e.meme.content}}),e._v("Your browser does not support HTML5 video.")])])]),n("div",{staticClass:"column is-6"},[n("div",{staticClass:"card"},[e._m(0),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[e.isAdmin()?n("p",{staticClass:"control"},[n("button",{staticClass:"button is-danger",on:{click:function(t){t.stopPropagation(),e.remove(t)}}},[n("b-icon",{attrs:{icon:"delete"}}),n("span",[e._v("Delete")])],1)]):e._e(),n("b-taglist",{attrs:{attached:"attached"}},[n("b-tag",{attrs:{type:"is-black"}},[e._v("Rating")]),n("b-tag",{attrs:{type:"is-info"}},[e._v(e._s(e.rating))])],1),n("p",{staticClass:"subtitle is-6"},[e._v("Added at"),n("b",[n("time",{attrs:{datetime:e.meme.added}},[e._v(e._s(e.added))])])]),n("b-input",{attrs:{size:"is-medium",value:e.meme.content,type:"textarea",readonly:"readonly"}})],1)])])])]):e._e()]):n("section",{staticClass:"hero is-info welcome is-small"},[n("div",{staticClass:"hero-body"},[n("h2",{staticClass:"is-size-5"},[e._v("Hello, "+e._s(e.isLogged()?e.$store.state.user.email:"guest")+".")]),n("h2",{staticClass:"is-size-6"},[e._v("Here you can view info about selected meme")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"card-header-title title"},[this._v("Info")])])}]};var qe=n("VU/8")(Ne,Oe,!1,function(e){n("8WBd")},"data-v-1fb80ef6",null).exports;s.a.use(ie.a);var je=new ie.a({routes:[{path:"/",name:"Index",component:ce},{path:"/confirm-mail",name:"ConfirmMail",component:de},{path:"/activate/:token",name:"ActivateAccount",component:pe},{path:"/meme/pick",name:"MemePicker",component:Le},{path:"/users",name:"UsersView",component:Se},{path:"/memes",name:"MemesView",component:Pe},{path:"/memes/:id",name:"MemeInfo",component:qe}]}),ze=n("9JMe"),De=(n("siN1"),n("doPI"),n("H/op"),n("5W1q"),n("JCHG"),n("PTkT"),n("MMSg")),Fe=n.n(De),Ye=n("kxCb"),We=n.n(Ye),Xe=n("WQHf"),Ge=n("IBsQ"),Qe=n.n(Ge),Je=n("sUu7");s.a.component("v-gravatar",Qe.a),Xe.a.color="rgba(255,255,255,0.25)",s.a.directive("ripple",Xe.a),s.a.use(We.a),s.a.use(Fe.a),s.a.use(Je.a),s.a.config.productionTip=!1,Object(ze.sync)(i,je),new s.a({el:"#app",router:je,store:i,template:"<App/>",components:{App:re}})},OhlP:function(e,t,n){"use strict";var s=n("zIVT");e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,a,r,i){var o=[];o.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),s.isString(a)&&o.push("path="+a),s.isString(r)&&o.push("domain="+r),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},PTkT:function(e,t){},QNNa:function(e,t){},QSoN:function(e,t){},RS1v:function(e,t,n){"use strict";var s=n("zIVT");function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(s.isURLSearchParams(t))r=t.toString();else{var i=[];s.forEach(t,function(e,t){null!==e&&void 0!==e&&(s.isArray(e)&&(t+="[]"),s.isArray(e)||(e=[e]),s.forEach(e,function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),r=i.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},RlDD:function(e,t,n){"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},SivM:function(e,t){},Sw8Y:function(e,t){},T2kP:function(e,t,n){"use strict";(function(t){var s=n("zIVT"),a=n("TOXd"),r={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,c={adapter:("undefined"!=typeof XMLHttpRequest?o=n("7LYE"):void 0!==t&&(o=n("7LYE")),o),transformRequest:[function(e,t){return a(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(e){c.headers[e]={}}),s.forEach(["post","put","patch"],function(e){c.headers[e]=s.merge(r)}),e.exports=c}).call(t,n("W2nU"))},TOXd:function(e,t,n){"use strict";var s=n("zIVT");e.exports=function(e,t){s.forEach(e,function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])})}},"U2+V":function(e,t,n){"use strict";var s=n("zIVT"),a=n("i7gz"),r=n("C9l1"),i=n("T2kP"),o=n("Ex+b"),c=n("BTlr");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!o(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),s.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return r(t)||(u(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},ZH5x:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},dHmm:function(e,t){},doPI:function(e,t){},e4qn:function(e,t){},hpXs:function(e,t){},i7gz:function(e,t,n){"use strict";var s=n("zIVT");e.exports=function(e,t,n){return s.forEach(n,function(n){e=n(e,t)}),e}},o4YP:function(e,t){},obgR:function(e,t,n){"use strict";e.exports=function(e,t,n,s,a){return e.config=t,n&&(e.code=n),e.request=s,e.response=a,e}},qV3Q:function(e,t){},siN1:function(e,t){},uj17:function(e,t,n){e.exports=n("HXpE")},wZW9:function(e,t,n){"use strict";var s=n("0l+G");e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(s("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},zIVT:function(e,t,n){"use strict";var s=n("4nb4"),a=n("ZH5x"),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function o(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,s){"object"==typeof t[s]&&"object"==typeof n?t[s]=e(t[s],n):t[s]=n}for(var s=0,a=arguments.length;s<a;s++)u(arguments[s],n);return t},extend:function(e,t,n){return u(t,function(t,a){e[a]=n&&"function"==typeof t?s(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}}},["NHnr"]);
//# sourceMappingURL=app.1b79eb0eaac1b7156b88.js.map